/*!
 * cxn 0.1.2+201312141304
 * https://github.com/ryanve/cxn
 * MIT License 2013 Ryan Van Etten
 */
!function(a,b,c){"undefined"!=typeof module&&module.exports?module.exports=c():a[b]=c()}(this,"cxn",function(){function a(a){var b=d[o]();a&&(c=+new Date),a&&u++&&(b+=" again"),e||document.documentElement.setAttribute("data-cxn",b)}var b=+new Date,c=b,d={},e="undefined"==typeof window,f=!e&&window,g=!e&&navigator,h="addEventListener",i=f&&h in f,j=g.connection||g.mozConnection||!1,k="bandwidth",l="metered",m="offline",n="online",o="state",p=[m,n],q=function(a,b){return!!b(a[0],0)&&!!b(a[1],1)},r=function(a,b){return i?(f[h](a,b,!1),!0):!1},s=!0,t=function(a){s=!a},u=0;return d[o]=function(a){return a&&r(m,a)&&r(n,a),p[d[n]()?1:0]},q(p,function(a,b){var c=b?"found":"lost";return d[c]=f&&"on"+a in f?function(b){return r(a,b)}:function(){return!1},d[a]=e?function(){return require("dns").resolve("google.com",t),b==s}:function(a){return a&&d[c](a),!1!==g.onLine==b},!0}),d[k]=function(){var a=j;return a&&(a=a[k])===+a?a:d[m]()?0:1/0},d[l]=function(){return j?!0===j[l]:!1},d.unstable=function(){return u},d.stable=function(){return!u&&!d[m]()},d.duration=function(a){return+new Date-(!0===a?b:null==a?c:+a)},e||a(),d[o](a),d});