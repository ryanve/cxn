/*!
 * cxn 0.4.1+201403231655
 * https://github.com/ryanve/cxn
 * MIT License 2014 Ryan Van Etten
 */
!function(a,b,c){"undefined"!=typeof module&&module.exports?module.exports=c():a[b]=c()}(this,"cxn",function(){function a(a,b){b(a[0],0),b(a[1],1)}function b(a,b){for(var c=0,d=a&&a.length;d>c;)a[c++].call(b);return c}function c(a,b,c){c>>=0;for(var d=a.length;d--&&(b!==a[d]||!a.splice(d,1)||--c););}var d={},e=Date.now||function(){return(new Date).getTime()},f=e(),g=f,h=0,i=function(){h++,g=e()},j="onLine",k="undefined"==typeof window,l=!k&&navigator,m=!1===l[j]?1/0:0,n=!k&&window,o=!k&&document,p=l.connection||l.mozConnection||!1,q="bandwidth",r="metered",s="offline",t="online",u="stable",v="un"+u,w=[s,t],x={},y="listeners",z="emit",A="wire",B="un"+A,C="hasOwnProperty",D=function(a){a.length=0},E=k?function(){}:function(a,b,c){return a&&"on"+b in a?(a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c),1):0},F=!0,G=function(a){F=!a},H=function(){k||document.documentElement.setAttribute("data-cxn",[d[t]()?t:s,d[u]()?u:v].join(" "))};return d[y]=function(a){if(null==a)throw new TypeError("@0");return x[C](a)&&x[a]||(x[a]=[])},d[z]=function(a){return b(d[y](a),d)},d[A]=d.line=function(a,b){var c,e=a,f=2;if("function"==typeof a&&("string"==typeof b?e=b:c=1,b=a),"string"==typeof a&&"function"!=typeof b)d[z](a);else for(;f--;)(c||w[f]===e)&&d[y](w[f]).push(b);return this},d[B]=d.unline=function(a,b){var e,f=a,g=2;if("function"==typeof a&&("string"==typeof b?f=b:e=1,b=a),"string"==typeof a&&"function"!=typeof b)D(d[y](a));else for(;g--;)(e||w[g]===f)&&c(d[y](w[g]),b);return this},d[q]=function(){var a=p;return a&&(a=a[q])===+a?a:d[s]()?0:1/0},d[r]=function(){return p?!0===p[r]:!1},d[v]=function(){return h},d[u]=function(){return!h},d.elapsed=function(){return e()-f},d.interim=function(){return e()-g},d.late=function(){return m},a(w,function(a,b){function c(){i(),b&&m==m/0&&(m=g-f||1),d[z](a)}E(n,a,c)||E(o.body,a,c),d[a]=k?function(){return require("dns").resolve("google.com",G),b==F}:function(c){return"function"==typeof c&&d[A](a,c),!1!==l[j]==b},d[b?"life":"gap"]=function(){return d[a]()?e()-g||1:0}}),H(),d[A](H),d});